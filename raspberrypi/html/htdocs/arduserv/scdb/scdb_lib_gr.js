'use strict';
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
	class scdb_gr{
		constructor(hub,div){
			this.hub_handler=hub;
			this.div=div;
		}
		//////////
		parser_data(type,stream){
			//console.log(stream);
			
			var div_p = document.createElement("div");
			document.getElementById(this.div).appendChild(div_p);
			
			create_div_from_array_to_db_gr("","conf",stream,div_p);
			create_array_from_div_to_db_gr(div_p);
			
			//create_table_from_array_gr(stream,"tbl_db");
		}
	}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	function autoboat_save_routing_sets_send_db(){
		var xmlhttprq_test = new XMLHttpRequest();
		xmlhttprq_test.open('POST', 'http://127.0.0.1:3128/htdocs/db/test/fname.json', true);//, true
		xmlhttprq_test.overrideMimeType('text/plain; charset=x-user-defined');
		xmlhttprq_test.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
		xmlhttprq_test.send(JSON.stringify(auto_boat_routing_sets,null, '\t'));
		//console.log(auto_boat_routing_sets);
		//console.log(JSON.stringify(auto_boat_routing_sets,null, ' '));
	}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	function create_div_from_array_to_db_gr(pre_fix,name,arr,div){
		//var arr=new Array();
		var i=0;

		//do{
			var div_c = document.createElement("div");
			//div_c.style='border: solid;';
			div.appendChild(div_c);
			
			//if(Array.isArray(arr_in) || Object.prototype.toString.call(arr[key])==='[object Object]'){
			//	arr=arr_in[i];
			//}else{
			//	arr=arr_in;
			//}
			
			for(var key in arr) {
				var div_c_c = document.createElement("div");
				div_c.appendChild(div_c_c);
				if(Array.isArray(arr[key]) || Array.isAssociativeArray(arr[key])){
					create_div_from_array_to_db_gr(pre_fix+"|",key,arr[key],div_c);//!!!div_c
				}else{
					div_c_c.innerHTML+=pre_fix+"-"+name+"["+i+"]["+key+"]:"+arr[key];
				}
			}
			i++;
		//} while(i<arr_in.length)
	}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	function create_array_from_div_to_db_gr(div_p){
		//document.getElementById("tbl_db").children[0]
		console.log(div_p.element)
	}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
