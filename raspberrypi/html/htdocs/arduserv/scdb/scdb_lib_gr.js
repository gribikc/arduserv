'use strict';
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
	class scdb_gr{
		constructor(hub){
			this.hub_handler=hub;
		}
		//////////
		parser_data(type,stream){
			//console.log(stream);
			create_form_from_array_to_db_gr("","conf",stream,"tbl_db2");
			create_table_from_array_gr(stream,"tbl_db");
		}
	}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	function autoboat_save_routing_sets_send_db(){
		var xmlhttprq_test = new XMLHttpRequest();
		xmlhttprq_test.open('POST', 'http://127.0.0.1:3128/htdocs/db/test/fname.json', true);//, true
		xmlhttprq_test.overrideMimeType('text/plain; charset=x-user-defined');
		xmlhttprq_test.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
		xmlhttprq_test.send(JSON.stringify(auto_boat_routing_sets,null, '\t'));
		//console.log(auto_boat_routing_sets);
		//console.log(JSON.stringify(auto_boat_routing_sets,null, ' '));
	}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	function create_form_from_array_to_db_gr(pre_fix,name,arr_in,div){
		var arr=new Array();
		var i=0;

		do{
			if(Array.isArray(arr_in)){
				arr=arr_in[i];
			}else{
				arr=arr_in;
			}
			//arr=arr_in[i];
			
			for(var key in arr) {
				if(Array.isArray(arr[key])){//if(arr[key].length>0 && Array.isArray(arr[key])){
					create_form_from_array_to_db_gr(pre_fix+" ",key,arr[key],div);
				//}else if(){
				}else{
					console.log(pre_fix+name+"["+i+"]["+key+"]=="+arr[key]);
				}
			}
			i++;
		} while(i<arr_in.length)
	}